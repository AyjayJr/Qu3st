/* Copyright 2011 Google Inc. All Rights Reserved. */ (function(){/*

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/
var f=function(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}},g="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){if(a==Array.prototype||a==Object.prototype)return a;a[b]=c.value;return a},h=function(a){a=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var b=0;b<a.length;++b){var c=a[b];if(c&&c.Math==Math)return c}throw Error("Cannot find global object");
},k=h(this),l=function(a,b){if(b)a:{var c=k;a=a.split(".");for(var d=0;d<a.length-1;d++){var e=a[d];if(!(e in c))break a;c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&g(c,a,{configurable:!0,writable:!0,value:b})}};
l("Symbol",function(a){if(a)return a;var b=function(e,r){this.g=e;g(this,"description",{configurable:!0,writable:!0,value:r})};b.prototype.toString=function(){return this.g};var c=0,d=function(e){if(this instanceof d)throw new TypeError("Symbol is not a constructor");return new b("jscomp_symbol_"+(e||"")+"_"+c++,e)};return d});
l("Symbol.iterator",function(a){if(a)return a;a=Symbol("Symbol.iterator");for(var b="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),c=0;c<b.length;c++){var d=k[b[c]];"function"===typeof d&&"function"!=typeof d.prototype[a]&&g(d.prototype,a,{configurable:!0,writable:!0,value:function(){return m(f(this))}})}return a});
var m=function(a){a={next:a};a[Symbol.iterator]=function(){return this};return a},n=function(a,b){a instanceof String&&(a+="");var c=0,d=!1,e={next:function(){if(!d&&c<a.length){var r=c++;return{value:b(r,a[r]),done:!1}}d=!0;return{done:!0,value:void 0}}};e[Symbol.iterator]=function(){return e};return e};l("Array.prototype.keys",function(a){return a?a:function(){return n(this,function(b){return b})}});var p,q,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,J=function(){var a={};a.language=t.options[t.selectedIndex].value;a.popupDblclick=u.checked?"true":"false";a.popupSelect=x.checked?"true":"false";a.popupDblclickKey=w.options[w.selectedIndex].value;a.popupSelectKey=z.options[z.selectedIndex].value;a.storeHistory=A.checked?"true":"false";a.allowCrossExtensionHistory=D.checked?"true":"false";a.enableHttps="true";window.localStorage.options=JSON.stringify(a);var b=document.getElementById("save-status");b.style.setProperty("-webkit-transition",
"opacity 0s ease-out");b.style.opacity=1;window.setTimeout(function(){b.style.setProperty("-webkit-transition","opacity 0.4s ease-out");b.style.opacity=0},1500);I(!1);chrome.extension.getBackgroundPage()["gdx.updateOptions"]()},P=function(){I(!1);var a=JSON.parse(window.localStorage.options);K(t,a.language);u.checked="true"===a.popupDblclick;L();x.checked="true"===a.popupSelect;M();K(w,a.popupDblclickKey);K(z,a.popupSelectKey);A.checked="true"===a.storeHistory;D.checked="true"===a.allowCrossExtensionHistory;
N();chrome.storage.local.get("word-history",function(b){B=b=Object.keys(b["word-history"]).length;C.textContent=b;O()})},O=function(){0<B&&A.checked?(F.disabled=!1,H.disabled=!1):0===B&&(F.disabled=!0,H.disabled=!0)},Q=function(a){var b="";a=a["word-history"];for(var c in a){var d=c.split("<"),e=a[c];b+=d[0];b+="\t";b+=d[1];b+="\t";b+=d[2];b+="\t";b+=e;b+="\n"}G.href=window.URL.createObjectURL(new Blob([b],{type:"text/plain"}));b=G;c=document.createEvent("MouseEvents");c.initEvent("click",!0,!0);
b.dispatchEvent(c)},R=function(){chrome.storage.local.get("word-history",Q)},S=function(){chrome.storage.local.set({"word-history":{}});B=0;C.textContent=0;O()},K=function(a,b){for(var c=0,d=a.options.length;c<d;c++)if(a.options[c].value===b){a.options[c].selected=!0;break}},I=function(a){p.disabled=!a;q.disabled=!a},T=function(){I(!0)},L=function(){var a=u.checked;w.disabled=!a;v.className=a?"":"text-disabled"},M=function(){var a=x.checked;z.disabled=!a;y.className=a?"":"text-disabled"},N=function(){var a=
A.checked;D.disabled=!a;E.className=a?"":"text-disabled";a||(D.checked=!1);F.disabled=!a;H.disabled=!a;O()};
(function(){p=document.getElementById("save-btn");q=document.getElementById("reset-btn");t=document.getElementById("language-selector");u=document.getElementById("popup-dblclick-checkbox");v=document.getElementById("popup-dblclick-text");w=document.getElementById("popup-dblclick-key");x=document.getElementById("popup-select-checkbox");y=document.getElementById("popup-select-text");z=document.getElementById("popup-select-key");A=document.getElementById("store-history-checkbox");C=document.getElementById("num-words-in-history");
D=document.getElementById("allow-cross-extension-history-checkbox");E=document.getElementById("allow-cross-extension-history-text");F=document.getElementById("download-history-btn");G=document.getElementById("download-history-link");H=document.getElementById("clear-history-btn");B=0;p.addEventListener("click",J,!1);q.addEventListener("click",P,!1);u.addEventListener("change",function(){L()},!1);x.addEventListener("change",function(){M()},!1);A.addEventListener("change",function(){N()},!1);F.addEventListener("click",
R,!1);H.addEventListener("click",S,!1);document.getElementById("year").innerText=(new Date).getFullYear();for(var a=document.getElementsByTagName("input"),b=0,c;c=a[b];b++)c.addEventListener("change",T,!1);a=document.getElementsByTagName("select");for(b=0;c=a[b];b++)c.addEventListener("change",T,!1);-1!==window.navigator.platform.toLowerCase().indexOf("mac")&&(document.getElementById("popup-dblclick-key-ctrl").textContent="Command",document.getElementById("popup-select-key-ctrl").textContent="Command");
P()})();})();
