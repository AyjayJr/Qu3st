var __extends,AutoSuggest;(function(n){var t;(function(n){function t(){for(var t,r,u,n,f,e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];for(t=[],r=0,u=e;r<u.length;r++)if(n=u[r],n)if(typeof n=="string")t.push(n);else for(f in n)n[f]&&t.push(f);return t.length>0?t.join(" "):null}function i(t){return n.ViewData.TestHooksEnabled?t:undefined}n.ViewData={};n.classNames=t;n.whenTestHooks=i})(t=n.View||(n.View={}))})(AutoSuggest||(AutoSuggest={}));__extends=this&&this.__extends||function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])},n(t,i)};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),function(n){var t;(function(n){var t=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return __extends(t,n),t.prototype.componentDidMount=function(){this.props.adjustHeight&&this.props.adjustHeight()},t.prototype.componentDidUpdate=function(){this.props.adjustHeight&&this.props.adjustHeight()},t}(React.Component);n.DynamicHeightView=t})(t=n.View||(n.View={}))}(AutoSuggest||(AutoSuggest={}));__extends=this&&this.__extends||function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])},n(t,i)};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),function(n){var t;(function(t){var i=function(i){function r(){return i!==null&&i.apply(this,arguments)||this}return __extends(r,i),r.prototype.render=function(){var e=this,i=this.props,r=i.suggestions,o=i.clickHandler,s=i.secondaryActionClickHandler,h=i.wrapsToTwoLines,c=i.smallerAnswers,u=i.inlineAdditionalInfoTypes,l=i.inlineInfoNoGlyph,a=i.noSecondaryIcon,f=i.enableFeedback,v=f?function(n){return e.props.feedbackClickHandler(n.nativeEvent)}:undefined;return React.createElement("div",null,r.map(function(i){return React.createElement(t.OneBoxSuggestion,{suggestion:i,clickHandler:o,secondaryActionClickHandler:s,wrapsToTwoLines:h,smallerAnswers:c,inlineAdditionalInfo:u&&n.contains(u,i.type),inlineInfoNoGlyph:l,noSecondaryIcon:a})}),f&&r.length>0&&React.createElement("div",{className:"accentColor",id:"feedbackButton"},React.createElement("span",{onClick:v},t.getLocString("ProvideFeedbackText"))))},r}(t.DynamicHeightView);t.OneBoxTopResults=i})(t=n.View||(n.View={}))}(AutoSuggest||(AutoSuggest={}));__extends=this&&this.__extends||function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])},n(t,i)};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),function(n){var t;(function(t){function r(i){var r=i.group,f=i.clickHandler,o=i.secondaryActionClickHandler,e=i.inlineAdditionalInfoTypes;return React.createElement("div",{"data-region":r.instRegionName},!!r.text&&React.createElement(u,{group:r,clickHandler:f}),r.suggestions.map(function(i){return React.createElement(t.OneBoxSuggestion,{suggestion:i,clickHandler:f,secondaryActionClickHandler:o,inlineAdditionalInfo:e&&n.contains(e,i.type)})}))}function u(n){var i=n.group,r=i.instItem?function(t){return n.clickHandler(i,t.nativeEvent)}:undefined;return React.createElement("div",{className:t.classNames("groupHeader",{selectable:!!i.instItem,sa_hv:!!i.selected}),onClick:r,id:i.instItem?i.id:undefined,"data-h":i.instItem?i.instItem.getHValue():undefined,"data-clicks":i.instItem?"true":undefined,role:i.instItem?"listitem":"heading","aria-label":i.instItem?i.narratorText:i.text,"aria-selected":i.instItem?i.selected?"true":"false":undefined,"data-partnertag":t.whenTestHooks("GroupHeader")},React.createElement("div",null,i.text),!!i.secondaryText&&React.createElement(f,{text:i.secondaryText,className:i.secondaryTextClass}))}function f(n){var i=n.text,r=n.className;return React.createElement("div",{className:r,"data-partnertag":t.whenTestHooks("GroupAnnotation")},React.createElement("span",null,i))}var i=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return __extends(t,n),t.prototype.render=function(){var n=this.props,t=n.groups,i=n.clickHandler,u=n.secondaryActionClickHandler,f=n.inlineAdditionalInfoTypes;return React.createElement("div",{className:"groups"},t.map(function(n){return React.createElement(r,{group:n,clickHandler:i,secondaryActionClickHandler:u,inlineAdditionalInfoTypes:f})}))},t}(t.DynamicHeightView);t.OneBoxGroups=i})(t=n.View||(n.View={}))}(AutoSuggest||(AutoSuggest={}));__extends=this&&this.__extends||function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])},n(t,i)};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),function(n){var t;(function(t){function u(n){var i=n.suggestion,r=n.canBeCortanaAnswer;return React.createElement("div",null,React.createElement("div",{className:t.classNames("richContainer")},r&&i.isAnswer&&React.createElement("div",{className:"answerNarratorAnnotation"},_d.body.attributes.cortana.value==="on"?t.getLocString("CortanaAnswer"):t.getLocString("BingAnswer")),r&&i.isAnswer&&React.createElement("div",{className:"cortanaIcon","aria-hidden":"true"},React.createElement(t.CortanaIcon,null)),React.createElement("div",{className:"answer",dangerouslySetInnerHTML:{__html:i.htmlContent}}),!i.isAnswer&&React.createElement("div",{className:i.secondaryTextClass,"data-partnertag":t.whenTestHooks("Suggestion.Annotation")},React.createElement("span",null,i.secondaryText))))}function f(r){var u=r.suggestion,e=r.smallerAnswers,o=r.canBeCortanaAnswer,f=r.inlineAdditionalInfo,s=r.inlineInfoNoGlyph,h=r.noSecondaryIcon,c=n.OneBox.config.nextWordPartialTextEnabled&&n.OneBox.isNextWord(u);return React.createElement("div",{className:t.classNames("simpleContainer",{smallerAnswers:e})},!(f&&s&&!!u.secondaryIcon)&&React.createElement(t.Icon,{icon:u.icon,hidden:c}),!!u.secondaryIcon&&!h&&React.createElement("span",{className:t.classNames({inlineAdditionalInfo:f})},React.createElement(t.Icon,{icon:u.secondaryIcon,type:"SecondaryIcon"})),React.createElement("div",{className:"detailVerticalBox"},React.createElement("div",{className:"detailHorizontalBox"},(!n.OneBox.config.enableUrlTitleSwitch||!n.OneBox.displayAsUrl(u.handoffType,u.type)||u.secondaryTextClass==="annotation")&&React.createElement(i,{suggestion:u,smallerAnswers:e,inlineAdditionalInfo:f,canBeCortanaAnswer:o}),!!u.secondaryText&&!(e&&n.OneBox.config.enableLeftPageTitle)&&React.createElement("div",{className:u.secondaryTextClass,"data-partnertag":t.whenTestHooks("Suggestion.SecondaryText")},React.createElement(t.HighlightedText,{text:u.secondaryText,dir:"ltr"})),n.OneBox.config.enableUrlTitleSwitch&&n.OneBox.displayAsUrl(u.handoffType,u.type)&&u.secondaryTextClass!="annotation"&&React.createElement(i,{suggestion:u,smallerAnswers:e,inlineAdditionalInfo:f,canBeCortanaAnswer:o})),!!u.additionalInfoText&&!f&&React.createElement("div",{className:"additionalInfoText","data-partnertag":t.whenTestHooks("Suggestion.AdditionalInfoText")},React.createElement(t.HighlightedText,{text:u.additionalInfoText,dir:"ltr"}))))}function i(i){var r=i.suggestion,u=i.smallerAnswers,f=i.canBeCortanaAnswer,e=i.inlineAdditionalInfo,o=n.OneBox.config.nextWordPartialTextEnabled&&n.OneBox.isNextWord(r);return React.createElement("div",{className:t.classNames("text",{historySuggestion:n.OneBox.config.colorSearchHistory&&r.type=="HS",short:r.secondaryTextClass!="annotation",url:n.OneBox.displayAsUrl(r.handoffType,r.type),annotation:n.OneBox.config.enableUrlTitleSwitch&&n.OneBox.displayAsUrl(r.handoffType,r.type)&&r.secondaryTextClass!="annotation"&&r.secondaryTextClass!="b_hide"}),"data-partnertag":t.whenTestHooks("Suggestion.SuggestionText")},React.createElement(t.HighlightedText,{reverse:n.OneBox.hasReverseHighlighting(r),text:r.text,dir:"ltr",partialNextWord:o}),!!r.additionalInfoText&&e&&React.createElement("span",{className:"additionalInfoText "+(r.handoffType==17?"bw-ppl":""),"data-partnertag":t.whenTestHooks("Suggestion.AdditionalInfoText")},React.createElement(t.HighlightedText,{text:r.additionalInfoText,dir:"ltr"})),!!r.secondaryText&&u&&n.OneBox.config.enableLeftPageTitle&&React.createElement("span",{className:r.secondaryTextClass,"data-partnertag":t.whenTestHooks("Suggestion.SecondaryText")},React.createElement(t.HighlightedText,{text:r.secondaryText,dir:"ltr"})),!!r.htmlContent&&u&&React.createElement("div",{className:"answerContainer"},React.createElement("div",{className:"answerNarratorAnnotation"},f&&_d.body.attributes.cortana.value==="on"?t.getLocString("CortanaAnswer"):t.getLocString("BingAnswer")),React.createElement("div",{className:"answer",dangerouslySetInnerHTML:{__html:r.htmlContent}})))}var r=function(i){function r(){return i!==null&&i.apply(this,arguments)||this}return __extends(r,i),r.prototype.render=function(){var s=this,r=this.props,i=r.suggestion,y=r.wrapsToTwoLines,h=r.smallerAnswers,c=r.inlineAdditionalInfo,e=r.inlineInfoNoGlyph,p=r.noSecondaryIcon,w=function(n){return s.props.clickHandler(i,n.nativeEvent)},l=!!i.htmlContent&&!h,a=!!i.htmlContent&&i.type!="MB",b=i.htmlContent&&!y,o=h&&!!i.htmlContent,v;return i.type=="MB"&&(o=o&&n.OneBox.config.enableSmallerEntity),v=t.classNames("suggestion",i.classNames.join(" "),{rich:l,sa_hv:i.selected,doubleLine:!c&&(!!i.additionalInfoText||!!i.secondaryIcon),hasAction:i.secondaryActions&&i.secondaryActions.length>0,smallerAnswerOneLine:b,normalizedBigIcon:!e&&i.type=="MB",normalizedSmallIcon:e&&i.type=="MB"}),React.createElement("div",{className:v,id:i.id,onClick:w,"data-partnertag":t.whenTestHooks("AutoSuggest.RegularSuggestion"),"data-stype":t.whenTestHooks(i.type),"data-h":i.instItem.getHValue(),"data-clicks":"true",role:"listitem","aria-selected":i.selected?"true":"false","aria-label":i.narratorText?i.narratorText:""},(i.isAnswer||!i.htmlContent)&&React.createElement(f,{suggestion:i,smallerAnswers:o,inlineAdditionalInfo:c,inlineInfoNoGlyph:e,noSecondaryIcon:p,canBeCortanaAnswer:a}),i.secondaryActions&&i.secondaryActions.map(function(n){var r=function(t){s.props.secondaryActionClickHandler(i,n,t.nativeEvent);t.stopPropagation()};return React.createElement(t.Icon,{icon:n.icon,type:"ActionIcon",onClick:r,suggestionText:t.getLocString("QueryBuilderNarratorString",i.query)})}),l&&React.createElement(u,{suggestion:i,canBeCortanaAnswer:a}))},r}(React.Component);t.OneBoxSuggestion=r})(t=n.View||(n.View={}))}(AutoSuggest||(AutoSuggest={}));__extends=this&&this.__extends||function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])},n(t,i)};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),function(n){var t;(function(t){function f(n){var u=n.index,f=n.item,e=n.isLast,o=n.hasPartialNextWord;return o&&u==0?React.createElement("span",null,React.createElement("span",{key:u,className:"hidden nextword"},f.text,e?"":i),React.createElement("span",null,r)):React.createElement("span",{key:u,className:t.classNames({highlighted:f.highlighted})},f.text,e?"":i)}var r="…",i="‍",u=function(t){function i(){return t!==null&&t.apply(this,arguments)||this}return __extends(i,t),i.prototype.render=function(){var t=this.props,r=t.text,u=t.dir,e=t.reverse,o=t.partialNextWord,i=HitHighlightingParser.split(r,e);return React.createElement("span",{dir:u},i.map(function(t,r){return React.createElement(f,{key:n.config.reactKeys?t.text:undefined,index:r,item:t,isLast:r==i.length-1,hasPartialNextWord:o})}))},i}(React.Component);t.HighlightedText=u})(t=n.View||(n.View={}))}(AutoSuggest||(AutoSuggest={}));__extends=this&&this.__extends||function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])},n(t,i)};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),function(n){var t;(function(t){function r(i){var r=i.icon,u=i.iconStyle,f=n.canIconFail(r)&&r.onIconRendered?function(n){return r.onIconRendered(n.target.width,n.target.height)}:undefined;return r.type==0?React.createElement("img",{src:r.content,onError:n.canIconFail(r)?r.onIconError:undefined,onLoad:f,role:"presentation"}):React.createElement("span",{className:t.classNames("iconContent",{accentColor:r.needsAccentColor,cortanaFontIcon:r.type==2,segoeRegularFont:r.type==5}),style:u,"aria-hidden":"true",dangerouslySetInnerHTML:{__html:r.content}})}function u(n){var t="Suggestion.";switch(n){case"SecondaryIcon":return{dataPartnerTag:t+n,cssClassByType:"secondaryIcon"};case"ActionIcon":return{dataPartnerTag:t+n,cssClassByType:"actionIcon"};default:return{dataPartnerTag:t+"Icon",cssClassByType:undefined}}}var i=function(i){function f(){return i!==null&&i.apply(this,arguments)||this}return __extends(f,i),f.prototype.render=function(){var c=u(this.props.type),v=c.dataPartnerTag,y=c.cssClassByType,e=this.props,i=e.icon,p=e.onClick,w=e.hidden,o=e.suggestionText,b=e.additionalCssClass,l=n.config.th&&ClientTestHooks.isTesthookParamSet("noRenderIcons"),k=i&&i.type==7,s="",a={},h={},f;if(i){switch(i.ratio){case 2:s="wide";break;case 3:s="tall"}i.bgColor&&(a.backgroundColor=i.bgColor);i.color&&(h.color=i.color);i.type==3?f=React.createElement(t.CortanaIcon,null):i.content?f=React.createElement(r,{icon:i,iconStyle:h}):i.className&&(f=React.createElement("span",{style:h,className:t.classNames("iconContent",i.className,{bookmarksFontIcon:i.type==4})}))}return React.createElement("div",{"data-partnertag":t.whenTestHooks(v),"aria-label":o?o:undefined,role:o?"button":undefined,onClick:p,className:t.classNames("iconContainer",y,b,i&&i.className&&i.type!=4?i.className:null,{cortanaIcon:i&&i.type==3,hidden:w,iconPlaceholder:l||!f,smallIcon:i&&i.isSmall})},!l&&f&&React.createElement("div",{style:a,className:t.classNames(s,{icon:!k,iconWithBackground:!!i.bgColor})},f))},f}(React.Component);t.Icon=i})(t=n.View||(n.View={}))}(AutoSuggest||(AutoSuggest={}));__extends=this&&this.__extends||function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])},n(t,i)};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),function(n){var t;(function(n){var t=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return __extends(t,n),t.prototype.render=function(){return React.createElement("span",{className:"wrapper",dangerouslySetInnerHTML:{__html:'<svg viewBox="0 0 36 36"><g style="opacity: 0.5"><path d="M18 2c8.8 0 16 7.2 16 16s-7.2 16-16 16S2 26.8 2 18S9.2 2 18 2 M18 0C8.1 0 0 8.1 0 18s8.1 18 18 18s18-8.1 18-18S27.9 0 18 0L18 0z" /><\/g><path d="M18 2C9.2 2 2 9.2 2 18s7.2 16 16 16s16-7.2 16-16S26.8 2 18 2z M18 31c-7.2 0-13-5.8-13-13S10.8 5 18 5s13 5.8 13 13S25.2 31 18 31z" /><\/svg>'}})},t}(React.Component);n.CortanaIcon=t})(t=n.View||(n.View={}))}(AutoSuggest||(AutoSuggest={}))