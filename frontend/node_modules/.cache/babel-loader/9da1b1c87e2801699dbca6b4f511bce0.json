{"ast":null,"code":"var _jsxFileName = \"/home/trip/cards (copy)/frontend/src/Login.js\",\n    _s = $RefreshSig$();\n\nimport { StatusBar } from \"expo-status-bar\";\nimport { BrowserRouter as Router, Route, Routes, Redirect, Switch, Link } from 'react-router-dom';\nimport React, { useState } from \"react\";\nimport { StyleSheet, Text, View, Image, TextInput, Button, TouchableOpacity, ImageBackground } from \"react-native\";\nimport logo from './assets/QU3ST2.png';\nimport bg from './assets/background.png';\nimport Register from \"./register\";\nimport textStyling from './assets/textStyling.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Login() {\n  _s();\n\n  var obj = {\n    email: \"\",\n    password: \"\"\n  };\n  const [errorMessage, setErrorMessage] = React.useState(\"\");\n\n  const doRegister = async event => {\n    window.location.href = '/register';\n  }; // Function To Log User In\n  // Takes Email and \n  // Returns Error JSON If Error Occured\n  // Returns Token If Valid\n\n\n  const doLogin = async event => {\n    console.log(obj); //event.preventDefault();\n    // FIXME: Pull Login And Password From Our Fields\n    //var obj = {email:\"culltrip@gmail.com\",password:\"COP4331!p\"};\n\n    var js = JSON.stringify(obj);\n\n    try {\n      //\n      const response = await fetch('http://quest-task.herokuapp.com/api/login', {\n        method: 'POST',\n        body: js,\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      });\n      var res = JSON.parse(await response.text()); //console.log(res);\n\n      if (res.error) {\n        console.log(res.error);\n        setErrorMessage(res.error.message);\n      } else {\n        console.log(\"no error\");\n        var user = {\n          FirstName: res.FirstName,\n          LastName: res.LastName,\n          Token: res.Token\n        };\n        localStorage.setItem('user_data', JSON.stringify(user));\n        console.log(user); // TODO: Route To Dashboard Page And Send User Info\n\n        window.location.href = '/dash';\n      }\n    } catch (e) {\n      alert(e.toString());\n      return;\n    }\n  };\n\n  const [state, setState] = useState({\n    loginName: \"\",\n    loginPassword: \"\"\n  });\n\n  const setEmail = email => {\n    obj.email = email;\n  };\n\n  const setPassword = password => {\n    obj.password = password;\n  }; // const [message,setMessage] = useState('');\n  // const email = useRef(null);\n  // const pwd = useRef(null);\n  // loginRes = useRef(null);\n  // const usernameMsg = useRef(null);\n  // const userpassMsg = useRef(null);\n  //        const handleChange = (e) =>\n  //      {\n  //     setState(\n  //         {\n  //             ...state, \n  //             [e.target.name]: e.target.value\n  //         }\n  //     )\n  // }\n  // function handleSubmit(e) {\n  //     e.preventDefault();\n  //     if(state.loginName == \"\") {\n  //         userpassMsg.current.style.display = \"none\";\n  //         setMessage('Please provide a username');\n  //         usernameMsg.current.style.display = \"none\";\n  //         undefined.current.focus();\n  //         return;\n  //     }\n  //     else if (state.loginPassword === \"\") {\n  //         usernameMsg.current.style.display = \"none\";\n  //         setMessage('Please provide a password');\n  //         userpassMsg.current.style.display = \"inline-block\";\n  //         pwd.current.focus();\n  //         return;\n  //     }\n  //     else {\n  //         usernameMsg.current.style.display = \"none\";\n  //         userpassMsg.current.style.display = \"none\";\n  //         doLogin(e);\n  //     }\n  // }\n  // const doLogin = async event => {\n  //     var obj = {login:state.loginName, password:state.loginPassword};\n  //     var js = JSON.stringify(obj);\n  //     var config = {\n  //         method: 'post',\n  //         //url:\n  //         headers: {\n  //             'Content-Type': 'application/json'\n  //         },\n  //         data: js \n  //     };\n  //    axios(config)\n  //         .then((response) => {\n  //             const res = response.data;\n  //             if (!res) {\n  //                 setMessage('No response from the server...');\n  //                 loginRes.current.style.display = \"inline-block\";\n  //                 return;\n  //             }\n  //             storage.storeToken(res.token);\n  //             const firstName = res.first_name;\n  //             const lastName = res.last_name;\n  //             const user = {firstName:firstName,lastName:lastName}\n  //             localStorage.setItem('user_data', JSON.stringify(user));\n  //             props.onLogin(true);\n  //         })\n  //         .catch(function (error)  {\n  //             if (error.response) {\n  //                 setMessage(error.response.data?.error);\n  //                 loginRes.current.style.display = \"inline-block\";\n  //             }\n  //         });\n  // }\n\n\n  return /*#__PURE__*/_jsxDEV(View, {\n    style: styles.wrap,\n    children: /*#__PURE__*/_jsxDEV(ImageBackground, {\n      source: bg,\n      style: {\n        width: '100%',\n        height: '100%',\n        alignItems: 'center'\n      },\n      children: /*#__PURE__*/_jsxDEV(View, {\n        style: styles.menuWrap,\n        children: [/*#__PURE__*/_jsxDEV(StatusBar, {\n          style: \"auto\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(Image, {\n          source: logo,\n          style: {\n            width: 750,\n            height: 300\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"loginTitle\",\n          children: \"Where your everyday tasks make you the hero.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(View, {\n          style: [styles.inputView, styles.shadowProp],\n          children: /*#__PURE__*/_jsxDEV(TextInput, {\n            style: styles.TextInput,\n            placeholder: \"Email\",\n            placeholderTextColor: \"#003f5c\",\n            onChangeText: email => setEmail(email)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 9\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(View, {\n          style: [styles.inputView, styles.shadowProp],\n          children: /*#__PURE__*/_jsxDEV(TextInput, {\n            style: styles.TextInput,\n            placeholder: \"Password\",\n            placeholderTextColor: \"#003f5c\",\n            secureTextEntry: true,\n            onChangeText: password => setPassword(password)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 9\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(TouchableOpacity, {\n          children: /*#__PURE__*/_jsxDEV(Text, {\n            style: styles.forgot_button,\n            children: \"Forgot Password?\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 9\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(TouchableOpacity, {\n          onPress: () => doLogin(),\n          style: [styles.loginBtn, styles.shadowProp],\n          children: /*#__PURE__*/_jsxDEV(Text, {\n            style: styles.loginText,\n            children: \"LOGIN\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 9\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(TouchableOpacity, {\n          onPress: () => doRegister(),\n          style: [styles.registerBtn, styles.shadowProp],\n          children: /*#__PURE__*/_jsxDEV(Text, {\n            style: styles.loginText,\n            children: \"Register\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 201,\n            columnNumber: 9\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 7\n        }, this), errorMessage && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"error\",\n          children: [\" \", errorMessage, \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 162,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Login, \"2HqvOAfH4u8A1IREnxyTpQHrYkA=\");\n\n_c = Login;\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: \"#fff\",\n    alignItems: \"center\",\n    justifyContent: \"center\"\n  },\n  menuWrap: {\n    backgroundColor: \"#FBE8B3\",\n    marginTop: 30,\n    borderRadius: 25,\n    width: 800,\n    height: \"90%\",\n    alignItems: \"center\",\n    borderColor: \"#C92D2D\",\n    borderWidth: 4,\n    overflow: \"hidden\"\n  },\n  wrap: {\n    align: \"center\",\n    backgroundColor: \"#a6dee3\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    flex: \"1\"\n  },\n  image: {\n    marginTop: -10,\n    marginBottom: 20,\n    width: 300,\n    height: 100\n  },\n  inputView: {\n    backgroundColor: \"#A1869E\",\n    borderRadius: 30,\n    width: \"30%\",\n    height: 40,\n    marginBottom: 14,\n    alignItems: \"center\"\n  },\n  loginText: {\n    fontFamily: \"Garamond, serif\",\n    fontWeight: \"bold\",\n    color: \"white\"\n  },\n  TextInput: {\n    height: 50,\n    flex: 1,\n    textAlign: 'center'\n  },\n  forgot_button: {\n    height: 30,\n    paddingTop: 10,\n    marginBottom: 10,\n    alignItems: 'center',\n    fontFamily: \"Garamond, serif\",\n    fontSize: 14,\n    fontWeight: \"bolder\",\n    marginTop: -10,\n    marginBottom: 10,\n    padding: 20\n  },\n  shadowProp: {\n    shadowColor: '#171717',\n    shadowOffset: {\n      width: -2,\n      height: 4\n    },\n    shadowOpacity: 0.2,\n    shadowRadius: 3\n  },\n  loginBtn: {\n    width: \"40%\",\n    borderRadius: 25,\n    height: 50,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    marginTop: 20,\n    backgroundColor: \"#797596\"\n  },\n  registerBtn: {\n    width: \"40%\",\n    borderRadius: 25,\n    height: 50,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    marginTop: 20,\n    backgroundColor: \"#797596\"\n  }\n});\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["/home/trip/cards (copy)/frontend/src/Login.js"],"names":["StatusBar","BrowserRouter","Router","Route","Routes","Redirect","Switch","Link","React","useState","StyleSheet","Text","View","Image","TextInput","Button","TouchableOpacity","ImageBackground","logo","bg","Register","textStyling","Login","obj","email","password","errorMessage","setErrorMessage","doRegister","event","window","location","href","doLogin","console","log","js","JSON","stringify","response","fetch","method","body","headers","res","parse","text","error","message","user","FirstName","LastName","Token","localStorage","setItem","e","alert","toString","state","setState","loginName","loginPassword","setEmail","setPassword","styles","wrap","width","height","alignItems","menuWrap","inputView","shadowProp","forgot_button","loginBtn","loginText","registerBtn","create","container","flex","backgroundColor","justifyContent","marginTop","borderRadius","borderColor","borderWidth","overflow","align","image","marginBottom","fontFamily","fontWeight","color","textAlign","paddingTop","fontSize","padding","shadowColor","shadowOffset","shadowOpacity","shadowRadius"],"mappings":"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","sourcesContent":["import { StatusBar } from \"expo-status-bar\";\nimport { BrowserRouter as Router, Route, Routes, Redirect, Switch, Link } from 'react-router-dom';\nimport React, { useState } from \"react\";\nimport {\n  StyleSheet,\n  Text,\n  View,\n  Image,\n  TextInput,\n  Button,\n  TouchableOpacity,\n  ImageBackground,\n} from \"react-native\";\nimport logo from './assets/QU3ST2.png';\nimport bg from './assets/background.png';\nimport Register from \"./register\";\nimport textStyling from './assets/textStyling.css';\n\nexport default function Login() {\n  var obj = {email:\"\",password:\"\"}\n  const [errorMessage, setErrorMessage] = React.useState(\"\");\n  const doRegister = async event => \n  {\n    window.location.href = '/register';\n  }\n  // Function To Log User In\n  // Takes Email and \n  // Returns Error JSON If Error Occured\n  // Returns Token If Valid\n  const doLogin = async event => \n  {\n\n      console.log(obj);\n      //event.preventDefault();\n      // FIXME: Pull Login And Password From Our Fields\n      //var obj = {email:\"culltrip@gmail.com\",password:\"COP4331!p\"};\n      var js = JSON.stringify(obj);\n      try\n      {    \n          //\n          const response = await fetch('http://quest-task.herokuapp.com/api/login',\n              {method:'POST',body:js,headers:{'Content-Type': 'application/json'}});\n\n          var res = JSON.parse(await response.text());\n          //console.log(res);\n            if( res.error )\n            {\n              console.log(res.error)\n              setErrorMessage(res.error.message);\n            }\n            else\n            {\n                console.log(\"no error\");\n                var user = {FirstName:res.FirstName,LastName:res.LastName, Token:res.Token}\n                localStorage.setItem('user_data', JSON.stringify(user));\n                console.log(user);\n                // TODO: Route To Dashboard Page And Send User Info\n                window.location.href = '/dash';\n            }\n      }\n      catch(e)\n      {\n          alert(e.toString());\n          return;\n      }    \n  };\n\n     const [state, setState] = useState(\n        {\n            loginName: \"\",\n            loginPassword: \"\"\n        }\n    );\n\n    const setEmail = (email) => {\n      obj.email = email;\n    }\n    const setPassword = (password) => {\n      obj.password = password;\n    }\n    // const [message,setMessage] = useState('');\n    // const email = useRef(null);\n    // const pwd = useRef(null);\n    // loginRes = useRef(null);\n    // const usernameMsg = useRef(null);\n    // const userpassMsg = useRef(null);\n\n   //        const handleChange = (e) =>\n  //      {\n    //     setState(\n    //         {\n    //             ...state, \n    //             [e.target.name]: e.target.value\n    //         }\n    //     )\n    // }\n\n    // function handleSubmit(e) {\n    //     e.preventDefault();\n\n    //     if(state.loginName == \"\") {\n    //         userpassMsg.current.style.display = \"none\";\n    //         setMessage('Please provide a username');\n    //         usernameMsg.current.style.display = \"none\";\n    //         undefined.current.focus();\n    //         return;\n    //     }\n    //     else if (state.loginPassword === \"\") {\n    //         usernameMsg.current.style.display = \"none\";\n    //         setMessage('Please provide a password');\n    //         userpassMsg.current.style.display = \"inline-block\";\n    //         pwd.current.focus();\n    //         return;\n    //     }\n    //     else {\n    //         usernameMsg.current.style.display = \"none\";\n    //         userpassMsg.current.style.display = \"none\";\n    //         doLogin(e);\n    //     }\n    // }\n\n    // const doLogin = async event => {\n    //     var obj = {login:state.loginName, password:state.loginPassword};\n    //     var js = JSON.stringify(obj);\n\n    //     var config = {\n    //         method: 'post',\n    //         //url:\n    //         headers: {\n    //             'Content-Type': 'application/json'\n    //         },\n    //         data: js \n    //     };\n    //    axios(config)\n    //         .then((response) => {\n    //             const res = response.data;\n    //             if (!res) {\n    //                 setMessage('No response from the server...');\n    //                 loginRes.current.style.display = \"inline-block\";\n    //                 return;\n    //             }\n\n    //             storage.storeToken(res.token);\n\n    //             const firstName = res.first_name;\n    //             const lastName = res.last_name;\n\n    //             const user = {firstName:firstName,lastName:lastName}\n    //             localStorage.setItem('user_data', JSON.stringify(user));\n    //             props.onLogin(true);\n    //         })\n    //         .catch(function (error)  {\n    //             if (error.response) {\n    //                 setMessage(error.response.data?.error);\n    //                 loginRes.current.style.display = \"inline-block\";\n    //             }\n    //         });\n    // }\n\n   return (\n\n    <View style={styles.wrap}>\n      <ImageBackground source={bg} style={{width: '100%', height: '100%', alignItems: 'center'}}>\n\n      <View style={styles.menuWrap}>\n      <StatusBar style=\"auto\" />\n\n      <Image source={logo} style={{ width: 750, height: 300 }} /> \n\n      <div className=\"loginTitle\">Where your everyday tasks make you the hero.</div>\n\n      <View style={[styles.inputView, styles.shadowProp]}>\n        <TextInput\n          style={styles.TextInput}\n          placeholder=\"Email\"\n          placeholderTextColor=\"#003f5c\"\n          onChangeText={(email) => setEmail(email)}\n        />\n      </View>\n\n      <View style={[styles.inputView, styles.shadowProp]}>\n        <TextInput\n          style={styles.TextInput}\n          placeholder=\"Password\"\n          placeholderTextColor=\"#003f5c\"\n          secureTextEntry={true}\n          onChangeText={(password) => setPassword(password)}\n        />\n      </View>\n\n      <TouchableOpacity>\n        <Text style={styles.forgot_button}>Forgot Password?</Text>\n      </TouchableOpacity>\n\n      <TouchableOpacity onPress = {() => doLogin()} style={[styles.loginBtn, styles.shadowProp]}>\n        <Text style={styles.loginText}>LOGIN</Text>\n      </TouchableOpacity>\n      {/* <div className=\"subText\">New here, adventurer? Begin your journey </div> --> */}\n\n      <TouchableOpacity onPress = {() => doRegister()} style={[styles.registerBtn, styles.shadowProp]}>\n        <Text style={styles.loginText}>Register</Text>\n      </TouchableOpacity>\n      {errorMessage && (<p className=\"error\"> {errorMessage} </p>)}\n    </View>\n    </ImageBackground>\n    </View>\n  );\n}\n\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: \"#fff\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n\n  menuWrap:{\n    backgroundColor: \"#FBE8B3\",\n    marginTop: 30,\n    borderRadius: 25,\n    width: 800,\n    height: \"90%\",\n    alignItems: \"center\",\n    borderColor : \"#C92D2D\",\n    borderWidth: 4,\n    overflow: \"hidden\",\n  },\n\n  wrap:{\n    align: \"center\",\n    backgroundColor:\"#a6dee3\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    flex: \"1\",\n  },\n\n  image: {\n    marginTop: -10,\n    marginBottom: 20,\n    width: 300,\n    height: 100,\n  },\n\n  inputView: {\n    backgroundColor: \"#A1869E\",\n    borderRadius: 30,\n    width: \"30%\",\n    height: 40,\n    marginBottom: 14,\n    alignItems: \"center\",\n  },\n\n  loginText:{\n    fontFamily: \"Garamond, serif\",\n    fontWeight: \"bold\",\n    color: \"white\",\n  },\n\n  TextInput: {\n    height: 50,\n    flex: 1,\n    textAlign: 'center',\n  },\n\n  forgot_button: {\n    height: 30,\n    paddingTop: 10,\n    marginBottom: 10,\n    alignItems: 'center',\n    fontFamily: \"Garamond, serif\",\n    fontSize: 14,\n    fontWeight: \"bolder\",\n    marginTop: -10,\n    marginBottom: 10,\n    padding: 20,\n  },\n\n  shadowProp: {\n    shadowColor: '#171717',\n    shadowOffset: {width: -2, height: 4},\n    shadowOpacity: 0.2,\n    shadowRadius: 3,\n  },\n\n  loginBtn: {\n    width: \"40%\",\n    borderRadius: 25,\n    height: 50,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    marginTop: 20,\n    backgroundColor: \"#797596\",\n  },\n\n  registerBtn: {\n    width: \"40%\",\n    borderRadius: 25,\n    height: 50,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    marginTop: 20,\n    backgroundColor: \"#797596\",\n  },\n});"]},"metadata":{},"sourceType":"module"}